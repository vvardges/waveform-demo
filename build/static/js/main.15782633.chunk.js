(this["webpackJsonpwaveform-demo"]=this["webpackJsonpwaveform-demo"]||[]).push([[0],{261:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(86),c=a.n(r),l=(a(93),a(32)),i=a(31);a(94);function s(e){for(var t=e.color,a=e.delta,n=e.points,r=[],c=0;c<n.length;c++)r.push(7*c+","+(a[1]+50*n[c]+1));for(var l=n.length-2;l>0;l--)r.push(7*l+","+(a[1]-50*n[l]));var i=r.join(" ");return o.a.createElement("polygon",{fill:t,points:i})}var u=a(87);function f(e){var t=e.data,a=e.delta,r=Object(n.useReducer)((function(e,t){var a=t.item,n=t.value,o=Object(i.a)(e);return o[a]=n,o}),[{r:255,g:228,b:190,a:.5},{r:240,g:151,b:178,a:.5},{r:118,g:161,b:196,a:.5}]),c=Object(l.a)(r,2),f=c[0],d=c[1];return o.a.createElement(o.a.Fragment,null,[0,1,2].map((function(e){return o.a.createElement("div",{className:"flex",key:e},o.a.createElement("div",{className:"panel"},o.a.createElement("svg",null,o.a.createElement(s,{color:"rgba(".concat(Object.values(f[e]).join(","),")"),delta:a,points:t[e].filteredData})),o.a.createElement("code",null,t[e].timePoints.join(", "))),o.a.createElement(u.SketchPicker,{color:f[e],onChangeComplete:function(t){return d({item:e,value:t.rgb})}}))})),o.a.createElement("div",{className:"flex"},o.a.createElement("div",{className:"panel"},o.a.createElement("svg",null,o.a.createElement(s,{color:"rgba(".concat(Object.values(f[0]).join(","),")"),delta:a,points:t[0].filteredData}),o.a.createElement(s,{color:"rgba(".concat(Object.values(f[1]).join(","),")"),delta:a,points:t[1].filteredData}),o.a.createElement(s,{color:"rgba(".concat(Object.values(f[2]).join(","),")"),delta:a,points:t[2].filteredData})))))}var d=function(){var e=function(e,t,a,n,o){e.lineWidth=1,e.strokeStyle="#fff",e.beginPath(),a=o?a:-a,e.moveTo(t,0),e.lineTo(t,a),e.arc(t+n/2,a,n/2,Math.PI,0,o),e.lineTo(t+n,0),e.stroke()},t=function(e){for(var t=[],a=[],n=0;n<e.length;n+=Math.floor(5*Math.random()))a.push(n),t.push(e[n]);return{filteredData:t,timePoints:a}},a=Object(n.useState)([]),r=Object(l.a)(a,2),c=r[0],s=r[1];return Object(n.useEffect)((function(){window.AudioContext=window.AudioContext||window.webkitAudioContext;var a=new AudioContext;fetch("https://vvardges.github.io/bluedotstemeditor/assets/audio/erast/04_Erast_Harp.mp3").then((function(e){return e.arrayBuffer()})).then((function(e){return a.decodeAudioData(e)})).then((function(a){var n=function(e){var t=Math.pow(Math.max.apply(Math,Object(i.a)(e)),-1);return e.map((function(e){return e*t}))}(function(e){for(var t=e.getChannelData(0),a=Math.floor(t.length/300),n=[],o=0;o<300;o++){for(var r=a*o,c=0,l=0;l<a;l++)c+=Math.abs(t[r+l]);n.push(c/a)}return n}(a));!function(t){var a=document.querySelector("canvas"),n=window.devicePixelRatio||1;a.width=a.offsetWidth*n,a.height=(a.offsetHeight+40)*n;var o=a.getContext("2d");o.scale(n,n),o.translate(0,a.offsetHeight/2+20);for(var r=a.offsetWidth/t.length,c=0;c<t.length;c++){var l=r*c,i=t[c]*a.offsetHeight-20;i<0?i=0:i>a.offsetHeight/2&&(i=i>a.offsetHeight/2),e(o,l,i,r,(c+1)%2)}}(n);var o=[];o.push(t(n)),o.push(t(n)),o.push(t(n)),s(o)}))}),[]),o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"panel"},o.a.createElement("canvas",null)),c.length>0&&o.a.createElement(f,{colors:["rgb(255, 228, 190)","rgb(240, 157, 178)","rgb(118, 161, 196)","rgb(110, 121, 163)"],data:c,delta:[0,40]}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(d,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},88:function(e,t,a){e.exports=a(261)},93:function(e,t,a){},94:function(e,t,a){}},[[88,1,2]]]);
//# sourceMappingURL=main.15782633.chunk.js.map